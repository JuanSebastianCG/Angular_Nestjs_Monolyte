<div
  class="form-field"
  [ngClass]="{ 'has-error': hasError, 'is-valid': isValid }"
>
  <label *ngIf="label" [for]="inputId" class="form-label">{{ label }}</label>

  <!-- Text, email, password inputs -->
  <div
    class="input-container"
    *ngIf="!isSelect && !isDate && type !== 'textarea'"
  >
    <i *ngIf="icon" class="field-icon" [ngClass]="icon"></i>
    <input
      [type]="type"
      [id]="inputId"
      [formControl]="$any(control)"
      [placeholder]="placeholder"
      class="form-input"
    />
    <div *ngIf="isValid && showSuccessIndicator" class="success-indicator">
      <i class="fas fa-check"></i>
    </div>
  </div>

  <!-- Textarea -->
  <div class="input-container" *ngIf="type === 'textarea'">
    <textarea
      [id]="inputId"
      [formControl]="$any(control)"
      [placeholder]="placeholder"
      class="form-textarea"
      rows="4"
    ></textarea>
    <div *ngIf="isValid && showSuccessIndicator" class="success-indicator">
      <i class="fas fa-check"></i>
    </div>
  </div>

  <!-- Select input -->
  <div class="select-container" *ngIf="isSelect">
    <select
      [id]="inputId"
      [formControl]="$any(control)"
      class="form-select"
      [multiple]="multiple"
    >
      <option value="" *ngIf="!multiple" disabled selected>
        Select an option
      </option>
      <option *ngFor="let option of options" [value]="option.value">
        {{ option.label }}
      </option>
    </select>
    <div *ngIf="isValid && showSuccessIndicator" class="success-indicator">
      <i class="fas fa-check"></i>
    </div>
  </div>

  <!-- Date input -->
  <div class="input-container" *ngIf="isDate">
    <input
      type="date"
      [id]="inputId"
      [formControl]="$any(control)"
      class="form-date"
    />
    <div *ngIf="isValid && showSuccessIndicator" class="success-indicator">
      <i class="fas fa-check"></i>
    </div>
  </div>

  <!-- Error message -->
  <div *ngIf="hasError" class="error-message">
    {{ errorMessage }}
  </div>
</div>
