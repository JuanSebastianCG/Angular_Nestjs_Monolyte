<div class="auth-page">
  <app-form-container>
    <app-form-card title="Login" [showBackButton]="true" backUrl="/">
      <!-- Success message -->
      <app-alert
        *ngIf="successMessage"
        [message]="successMessage"
        type="success"
        [dismissible]="true"
        (dismiss)="clearSuccessMessage()"
      >
      </app-alert>

      <!-- Error message -->
      <app-alert
        *ngIf="error"
        [message]="error"
        type="danger"
        [dismissible]="true"
        (dismiss)="clearError()"
      >
      </app-alert>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <app-form-field
          label="Username"
          inputId="username"
          [control]="loginForm.get('username')!"
          placeholder="Enter your username"
          [showSuccessIndicator]="submitted"
        ></app-form-field>

        <app-form-field
          label="Password"
          inputId="password"
          [control]="loginForm.get('password')!"
          type="password"
          placeholder="Enter your password"
          [showSuccessIndicator]="submitted"
        ></app-form-field>

        <div class="form-actions">
          <app-button
            type="submit"
            [loading]="loading"
            [disabled]="loading"
            variant="primary"
          >
            Login
          </app-button>
          <app-button
            type="button"
            [disabled]="loading"
            variant="secondary"
            (click)="navigateToRegister()"
          >
            Create Account
          </app-button>
        </div>
      </form>
    </app-form-card>
  </app-form-container>
</div>
